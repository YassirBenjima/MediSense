{% include 'partials/header.html' %}
<div class="adminuiux-wrap">
  {% load static %} {% include 'partials/sidebar.html' %} {% block content %}
  <main class="adminuiux-content has-sidebar" onclick="contentClick()">
    <div class="container-fluid mt-3">
      <div class="bg-theme-1-subtle rounded px-3 py-3">
        <div class="row gx-3 align-items-center">
          <div class="col col-sm mb-2 mb-sm-0">
            <p class="h5">Patients</p>
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb mb-0">
                <li class="breadcrumb-item bi">
                  <a href="{% url 'dashboard' %}">Home</a>
                </li>
                <li class="breadcrumb-item active bi" aria-current="page">
                  Patients
                </li>
              </ol>
            </nav>
          </div>
          <div class="col-auto py-1">
            <a href="clinic-add-patient.html" class="btn btn-theme"
              ><i data-feather="plus" class="me-0 me-md-1"></i>
              <span class="d-none d-md-inline-block">Patient</span></a
            >
          </div>
          <div class="col-auto py-1 ms-auto ms-sm-0">
            <button
              class="btn btn-link btn-square btn-icon"
              data-bs-toggle="collapse"
              data-bs-target="#filterschedule"
              aria-expanded="false"
              aria-controls="filterschedule"
            >
              <i data-feather="filter"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="container" id="main-content">
      <div class="collapse" id="filterschedule">
        <div class="card adminuiux-card mt-4">
          <div class="card-body pb-0">
            <div class="row">
              <div class="col-12 col-md-6 col-lg-3 mb-3">
                <div class="form-floating">
                  <input class="form-control" placeholder="Search..." />
                  <label>Search...</label>
                </div>
              </div>
              <div class="col-12 col-md-6 col-lg-3 mb-3">
                <div class="form-floating">
                  <select class="form-select">
                    <option selected="selected">All</option>
                    <option value="1">VIP</option>
                    <option value="2">Fresh Case</option>
                    <option value="3">Revisit</option>
                    <option value="4">Regular</option>
                    <option value="5">No Show</option>
                  </select>
                  <label>Patient Tags</label>
                </div>
              </div>
              <div class="col-12 col-md-6 col-lg-3 mb-3">
                <div class="form-floating">
                  <select class="form-select">
                    <option selected="selected">All</option>
                    <option value="1">Dr. Ryan Sylia</option>
                    <option value="2">Dr. Alice</option>
                    <option value="3">Dr. Smriti Vandana</option>
                  </select>
                  <label>Doctor</label>
                </div>
              </div>
              <div class="col-12 col-md-6 col-lg-3 mb-3">
                <div class="form-floating">
                  <select class="form-select">
                    <option selected="selected">All</option>
                    <option value="1">Created</option>
                    <option value="2">Upcoming</option>
                    <option value="3">Ongoing</option>
                    <option value="3">Completed</option>
                    <option value="3">Deleted</option>
                  </select>
                  <label>Appointment Status</label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card adminuiux-card mt-4 mb-4">
        <div class="card-body">
          <table id="dataTable" class="table w-100 nowrap">
            <thead>
              <tr>
                <th>ID</th>
                <th data-breakpoints="xs sm">Patient</th>
                <th data-breakpoints="xs sm md">Contact info</th>
                <th data-breakpoints="xs sm">Blood Group</th>
                {% comment %} <th class="all">Recent Schedule</th> {% endcomment %}
                <th data-breakpoints="xs sm">Weight</th>
                <th class="all">Action</th>
              </tr>
            </thead>
            <tbody>
              {% for patient in patients %}
              <tr>
                <td class="text-center">{{ patient.id }}</td>
                <td>
                  <div class="row align-items-center flex-nowrap">
                    <div class="col-auto">
                      <figure
                        class="avatar avatar-40 mb-0 coverimg rounded-circle"
                      >
                      <img src="{% if patient.profile.profile_image %}{{ patient.profile.profile_image.url }}{% else %}{% static 'assets/img/modern-ai-image/user-4.jpg' %}{% endif %}" alt="Profile Image" />
                    </figure>
                    </div>
                    <div class="col ps-0">
                      <p class="mb-0 fw-medium">
                        {% if patient.profile.first_name or patient.profile.last_name %}
                        {{patient.profile.first_name }}
                        {{patient.profile.last_name }} {% else %}
                        {{patient.username }} {% endif %}
                      </p>
                      <p class="text-secondary small">
                        {{ patient.profile.birth_date }}, {{patient.profile.city}}, {{patient.profile.country }}
                      </p>
                    </div>
                  </div>
                </td>
                <td>
                  <p class="mb-0">{{ patient.email }}</p>
                  <p class="text-secondary small">
                    {{ patient.profile.phone }}
                </p>
                </td>
                <td class="text-center">
                  <span class="badge badge-light rounded-pill text-bg-success">
                    {{ patient.profile.blood_group|default:"Nothing" }}
                  </span>
                </td>
                {% comment %} <td>
                  <p class="mb-0">
                    {{ patient.profile.last_appointment|date:"g:i A - j F Y" }}
                  </p>
                  <p class="text-secondary small">
                    {{ patient.profile.reason }} - {{ patient.profile.doctor }}
                  </p>
                </td> {% endcomment %}
                <td class="text-center"> 
                  <span class="badge badge-light rounded-pill text-bg-danger">
                    {{ patient.profile.weight|default:"0" }}
                  </span>
                </td>
                <td>
                  {% comment %}
                  <a
                    href="{% url 'view_patient' patient.id %}"
                    class="btn btn-square btn-link"
                    data-bs-toggle="tooltip"
                    title="View"
                  >
                    <i class="bi bi-eye"></i>
                  </a>
                  {% endcomment %}
                  <div class="dropdown d-inline-block">
                    <a class="btn btn-link no-caret" data-bs-toggle="dropdown">
                      <i class="bi bi-three-dots"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end">
                      <li>
                        {% comment %} 
                        <a
                          class="dropdown-item"
                          href="{% url 'edit_patient' patient.id %}"
                          >Edit</a
                        >
                        {% endcomment %}
                      </li>
                      {% comment %}
                      <li>
                        <a
                          class="dropdown-item theme-red"
                          href="{% url 'delete_patient' patient.id %}"
                          >Delete</a
                        >
                      </li>
                      {% endcomment %}
                    </ul>
                  </div>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
      <div class="row pt-4 mb-4">
        <div class="col-12 text-center mb-4 mb-lg-5">
          <h1>Track patient's statistic report easily</h1>
          <p class="mb-0">
            Take good care for your patient with data oriented approach to
            streamline medical facility
          </p>
        </div>
        <div class="col mb-4">
          <div class="card adminuiux-card bg-success-subtle">
            <div class="card-body">
              <i
                class="bi bi-balloon-heart fs-4 avatar avatar-50 bg-success text-white rounded mb-2"
              ></i>
              <p class="h4 mb-0">22</p>
              <p class="small opacity-75">Stable Patient</p>
            </div>
          </div>
        </div>
        <div class="col mb-4">
          <div class="card adminuiux-card bg-warning-subtle">
            <div class="card-body">
              <i
                class="bi bi-activity fs-4 avatar avatar-50 bg-warning text-white rounded mb-2"
              ></i>
              <p class="h4 mb-0">12</p>
              <p class="small opacity-75">Good Patient</p>
            </div>
          </div>
        </div>
        <div class="col mb-4">
          <div class="card adminuiux-card bg-orange-subtle">
            <div class="card-body">
              <i
                class="bi bi-heart-pulse fs-4 avatar avatar-50 bg-orange text-white rounded mb-2"
              ></i>
              <p class="h4 mb-0">2</p>
              <p class="small opacity-75">Critical Patient</p>
            </div>
          </div>
        </div>
        <div class="col-12 col-lg-6 mb-4">
          <div class="card adminuiux-card bg-theme-1-space">
            <div class="card-header">
              <p class="h5">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-user me-2"
                >
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                  <circle cx="12" cy="7" r="4"></circle>
                </svg>
                Patient Age Range
              </p>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-auto">
                  <p class="h4 mb-0">21</p>
                  <p class="opacity-75">25+ Years</p>
                </div>
                <div class="col-auto">
                  <p class="h4 mb-0">8</p>
                  <p class="opacity-75">16-30 Years</p>
                </div>
                <div class="col-auto">
                  <p class="h4 mb-0">5</p>
                  <p class="opacity-75">0-15 Years</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
{% endblock %} {% include 'partials/footer.html' %}
